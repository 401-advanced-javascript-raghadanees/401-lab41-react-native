{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/raghadan/ltuc/401/401-lab41-react-native/App.js\";\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport * as Permissions from 'expo-permissions';\nimport * as Contacts from 'expo-contacts';\nimport { Camera } from 'expo-camera';\nexport default function App() {\n  var _this = this;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      hasPermission = _useState2[0],\n      setHasPermission = _useState2[1];\n\n  var _useState3 = useState(Camera.Constants.Type.back),\n      _useState4 = _slicedToArray(_useState3, 2),\n      type = _useState4[0],\n      setType = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      contacts = _useState6[0],\n      setContacts = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      permissions = _useState8[0],\n      setPermissions = _useState8[1];\n\n  var getPermissions = function getPermissions() {\n    var _await$Permissions$as, status;\n\n    return _regeneratorRuntime.async(function getPermissions$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CONTACTS));\n\n          case 2:\n            _await$Permissions$as = _context.sent;\n            status = _await$Permissions$as.status;\n            setPermissions(true);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var showContacts = function showContacts() {\n    var contactList;\n    return _regeneratorRuntime.async(function showContacts$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(Contacts.getContactsAsync());\n\n          case 2:\n            contactList = _context2.sent;\n            setContacts(contactList.data);\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    getPermissions();\n  }, []);\n\n  var call = function call(contact) {\n    var phoneNumber = contact.phoneNumber[0].number.replace(/[\\(\\)\\-\\s+]/g, '');\n    console.log(contact);\n    var link = \"tel:\" + phoneNumber;\n    Linking.canOpenURL(link).then(function (supported) {\n      return Linking.openURL(link);\n    }).catch(console.error);\n  };\n\n  useEffect(function () {\n    (function _callee() {\n      var _await$Camera$request, status;\n\n      return _regeneratorRuntime.async(function _callee$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(Camera.requestPermissionsAsync());\n\n            case 2:\n              _await$Camera$request = _context3.sent;\n              status = _await$Camera$request.status;\n              setHasPermission(status === 'granted');\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n\n  if (hasPermission === null) {\n    return React.createElement(View, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 12\n      }\n    });\n  }\n\n  if (hasPermission === false) {\n    return React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 12\n      }\n    }, \"denied access to camera\");\n  }\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, \"hello\"), React.createElement(Button, {\n    onPress: showContacts,\n    title: \"show Contacts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }), React.createElement(StatusBar, {\n    style: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: styles.section,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, \"Data contact\"), React.createElement(FlatList, {\n    data: contacts,\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(Button, {\n        style: styles.person,\n        title: item.name,\n        onPress: function onPress() {\n          return call(item);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 37\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  })), React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, React.createElement(Camera, {\n    style: {\n      flex: 1\n    },\n    type: type,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      backgroundColor: 'transparent',\n      flexDirection: 'row'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: {\n      flex: 0.1,\n      alignSelf: 'flex-end',\n      alignItems: 'center'\n    },\n    onPress: function onPress() {\n      setType(type === Camera.Constants.Type.back ? Camera.Constants.Type.front : Camera.Constants.Type.back);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 18,\n      marginBottom: 10,\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, \" Flip \"))))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  person: {\n    marginTop: '1em'\n  },\n  section: {\n    margin: 10,\n    flex: 1,\n    alignItems: 'flex-start',\n    justifyContent: 'flex-start'\n  }\n});","map":{"version":3,"sources":["/home/raghadan/ltuc/401/401-lab41-react-native/App.js"],"names":["StatusBar","React","useState","useEffect","Permissions","Contacts","Camera","App","hasPermission","setHasPermission","Constants","Type","back","type","setType","contacts","setContacts","permissions","setPermissions","getPermissions","askAsync","CONTACTS","status","showContacts","getContactsAsync","contactList","data","call","contact","phoneNumber","number","replace","console","log","link","Linking","canOpenURL","then","supported","openURL","catch","error","requestPermissionsAsync","styles","container","section","item","id","person","name","flex","backgroundColor","flexDirection","alignSelf","alignItems","front","fontSize","marginBottom","color","StyleSheet","create","justifyContent","marginTop","margin"],"mappings":"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","sourcesContent":["import { StatusBar } from 'expo-status-bar';\nimport React, { useState, useEffect } from 'react';\nimport { StyleSheet, FlatList, Text, View, Button, Linking, TouchableOpacity } from 'react-native';\nimport * as Permissions from 'expo-permissions';\nimport * as Contacts from 'expo-contacts';\n\nimport { Camera } from 'expo-camera';\nexport default function App() {\n  const [hasPermission, setHasPermission] = useState(null);\n  const [type, setType] = useState(Camera.Constants.Type.back);\n  const [contacts, setContacts] = useState([]);\n  const [permissions, setPermissions] = useState(false);\n  const getPermissions = async () => {\n    const { status } = await Permissions.askAsync(Permissions.CONTACTS);\n    setPermissions(true);\n  }\n  const showContacts = async () => {\n    const contactList = await Contacts.getContactsAsync();\n    setContacts(contactList.data);\n  }\n  useEffect(() => {\n    getPermissions();\n  }, [])\n  const call = contact => {\n    let phoneNumber = contact.phoneNumber[0].number.replace(/[\\(\\)\\-\\s+]/g, '')\n    console.log(contact);\n    let link = `tel:${phoneNumber}`;\n    Linking.canOpenURL(link).then(supported => Linking.openURL(link)).catch(console.error)\n  }\n  useEffect(() => {\n    (async () => {\n      const { status } = await Camera.requestPermissionsAsync();\n      setHasPermission(status === 'granted');\n    })();\n  }, []);\n  if (hasPermission === null) {\n    return <View />;\n  }\n  if (hasPermission === false) {\n    return <Text>denied access to camera</Text>;\n  }\n  return (\n    <View style={styles.container}>\n      <Text>hello</Text>\n      <Button\n        onPress={showContacts}\n        title=\"show Contacts\"\n      />\n      <StatusBar style=\"auto\" />\n      <View style={styles.section}>\n        <Text>Data contact</Text>\n        <FlatList\n          data={contacts}\n          keyExtractor={(item) => item.id}\n          renderItem={({ item }) => <Button style={styles.person} title={item.name} onPress={() => call(item)} />}\n        />\n      </View>\n      <View style={{ flex: 1 }}>\n        <Camera style={{ flex: 1 }} type={type}>\n          <View\n            style={{\n              flex: 1,\n              backgroundColor: 'transparent',\n              flexDirection: 'row',\n            }}>\n            <TouchableOpacity\n              style={{\n                flex: 0.1,\n                alignSelf: 'flex-end',\n                alignItems: 'center',\n              }}\n              onPress={() => {\n                setType(\n                  type === Camera.Constants.Type.back\n                    ? Camera.Constants.Type.front\n                    : Camera.Constants.Type.back\n                );\n              }}>\n              <Text style={{ fontSize: 18, marginBottom: 10, color: 'white' }}> Flip </Text>\n            </TouchableOpacity>\n          </View>\n        </Camera>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  person: {\n    marginTop: '1em',\n  },\n  section: {\n    margin: 10,\n    flex: 1,\n    alignItems: 'flex-start',\n    justifyContent: 'flex-start',\n  },\n});"]},"metadata":{},"sourceType":"module"}